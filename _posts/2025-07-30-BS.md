---
layout: post
title: "Bloch Sphere"
date: 2025-07-30
---

<script>
      var mathbox = MathBox.mathBox({
        plugins: ["core", "controls", "cursor", "mathbox"],
        controls: {
          // Orbit controls, i.e. Euler angles, with gimbal lock
          klass: THREE.OrbitControls,

          // Trackball controls, i.e. Free quaternion rotation
          //klass: THREE.TrackballControls,
        },
      });
      if (mathbox.fallback) throw "WebGL not supported";

      var three = mathbox.three;
      three.renderer.setClearColor(new THREE.Color(0xffffff), 1.0);

            // Dat GUI
      var gui = new dat.GUI();
      var props = {
        theta: 0,
        phi: 0,
        ax_label: true,    
      };
      gui.add(props, "theta").min(0).max(Math.PI).step(0.01);
      gui.add(props, "phi").min(0).max(2*Math.PI).step(0.01);
      gui.add(props, "ax_label");
  
      var camera =
      mathbox
      .camera({
        proxy: true,
        position: [3, 3, 3],
      });

          // 2D cartesian
    var view =
      mathbox
      .cartesian({
        range: [[-2, 2], [-2, 2], [-2, 2]],
        scale: [1, 1, 1],
      });

    // Axes + grid
    view
      .axis({
        axis: 1,
        width: 3,
      })
      .axis({
        axis: 2,
        width: 3,
      })
      .axis({
        axis: 3,
        width: 3,
      });
      


// === Axis labels ===
// X label
view.array({ data: [[2.5, 0, 0]], channels: 3 })
    .text({ data: ['Y'] })
    .label({ color: 'red', size: 24, outline: 4 },{
          visible: function () {
            return props.ax_label;
          },
        });

// Y label
view.array({ data: [[0, 2.5, 0]], channels: 3 })
    .text({ data: ['Z'] })
    .label({ color: 'green', size: 24, outline: 4 },{
          visible: function () {
            return props.ax_label;
          },
        });

// Z label
view.array({ data: [[0, 0, 2.5]], channels: 3 })
    .text({ data: ['X'] })
    .label({ color: 'blue', size: 24, outline: 4 },{
          visible: function () {
            return props.ax_label;
          },
        });

      
      // Make axes black
    mathbox.select('axis').set('color', 'black');

      // Calibrate focus distance for units
    mathbox.set('focus', 3);


var data =
      view
      .volume({
        expr: function (emit, x,y,z) {
          emit(0, 0, 0);
            emit(Math.sin(props.theta)*Math.sin(props.phi), Math.cos(props.theta),  Math.sin(props.theta)*Math.cos(props.phi) );
        },
        width: 1,
        height: 1,
        depth: 1,
        channels: 3,
        items: 2,
      });

      var points =
  view.vector({
    end: true,
    width: 5,
    color: '#50A000',
  });

      /*
 view.array({ data: [[Math.sin(props.theta)*Math.sin(props.phi) + 0.2, Math.cos(props.theta) + 0.2,  Math.sin(props.theta)*Math.cos(props.phi) + 0.2]], channels: 3 })
    .text({ data: ['&Psi;'] })
    .label({ color: 'blue', size: 24, outline: 4 });
      */

</script>
